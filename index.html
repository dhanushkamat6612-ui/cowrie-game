<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kaude Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f5eddc;
  overflow:hidden;
}

/* ===== BOOT SCREEN ===== */
#boot{
  position:fixed;
  inset:0;
  background:#1a120b;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  color:#f5d48a;
  z-index:999;
}

#logo{
  font-size:42px;
  font-weight:bold;
  letter-spacing:3px;
}

#loader{
  margin-top:20px;
  width:120px;
  height:6px;
  background:#3b2a1a;
  overflow:hidden;
  border-radius:5px;
}
#bar{
  width:0%;
  height:100%;
  background:#f5d48a;
  animation:load 3s linear forwards;
}
@keyframes load{
  to{width:100%;}
}

/* ===== GAME ===== */
#game{
  display:none;
  width:100vw;
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
}

#ui{
  padding:10px;
  text-align:center;
}

button{
  padding:12px 25px;
  border:none;
  border-radius:25px;
  background:#7b1e1e;
  color:#fff;
  font-size:16px;
}

/* ===== SVG BOARD ===== */
#board{
  width:95vmin;
  height:95vmin;
}

.coin{
  transition:all 0.4s linear;
}
</style>
</head>

<body>

<!-- ===== BOOT ===== -->
<div id="boot">
  <div id="logo">KAUDE</div>
  <div style="margin-top:10px;">Traditional Cowrie Game</div>
  <div id="loader"><div id="bar"></div></div>
</div>

<!-- ===== GAME ===== -->
<div id="game">

<div id="ui">
  <div id="turn">RED TURN</div>
  <div id="roll">Roll: -</div>
  <button onclick="toss()">Toss Cowries</button>
</div>

<svg id="board" viewBox="0 0 1000 1000">

  <!-- Outer square -->
  <rect x="50" y="50" width="900" height="900" fill="#fff4cc" stroke="#4b2e1e" stroke-width="12"/>

  <!-- Inner square -->
  <rect x="250" y="250" width="500" height="500" fill="#e6f3e6" stroke="#2e5e2e" stroke-width="8"/>

  <!-- Center -->
  <rect x="425" y="425" width="150" height="150" fill="#ffd400" stroke="#7a5a00" stroke-width="6"/>
  <line x1="425" y1="425" x2="575" y2="575" stroke="#7a5a00" stroke-width="4"/>
  <line x1="575" y1="425" x2="425" y2="575" stroke="#7a5a00" stroke-width="4"/>

  <!-- Cross paths -->
  <rect x="475" y="250" width="50" height="500" fill="#b6e0b6"/>
  <rect x="250" y="475" width="500" height="50" fill="#b6e0b6"/>

  <!-- Coins -->
  <circle id="redCoin" cx="500" cy="80" r="18" fill="red"/>
  <circle id="blueCoin" cx="500" cy="920" r="18" fill="#0077ff"/>

</svg>

</div>

<script>
// ===== BOOT =====
setTimeout(()=>{
  document.getElementById("boot").style.display="none";
  document.getElementById("game").style.display="flex";
},3000);

// ===== PATH NODES (REAL GRAPH SYSTEM) =====
const paths = {
  outer:[
    [500,80],[650,80],[800,80],[920,200],[920,350],[920,500],[920,650],[920,800],
    [800,920],[650,920],[500,920],[350,920],[200,920],[80,800],[80,650],[80,500],
    [80,350],[80,200],[200,80],[350,80]
  ],

  redInner:[
    [500,250],[600,250],[750,350],[750,500],[750,650],[600,750],[500,750],[400,750],[250,650],[250,500],[250,350],[400,250],[500,425]
  ],

  blueInner:[
    [500,750],[400,750],[250,650],[250,500],[250,350],[400,250],[500,250],[600,250],[750,350],[750,500],[750,650],[600,750],[500,575]
  ]
};

let turn="red";
let pos={ red:0, blue:10 };

// ===== TOSS =====
function toss(){
  const roll = Math.floor(Math.random()*4)+1;
  document.getElementById("roll").innerText="Roll: "+roll;
  move(turn,roll);
}

// ===== MOVE =====
function move(color,steps){
  const coin = document.getElementById(color+"Coin");
  let p = pos[color];
  let path = paths.outer;

  let seq=[];

  for(let i=1;i<=steps;i++){
    let idx = p+i;
    if(idx < path.length){
      seq.push(path[idx]);
    }else{
      const inner = paths[color+"Inner"];
      seq.push(...inner);
      break;
    }
  }

  pos[color]+=steps;
  animate(coin,seq,0);
}

// ===== ANIMATE =====
function animate(coin,seq,i){
  if(i>=seq.length) return;
  coin.setAttribute("cx",seq[i][0]);
  coin.setAttribute("cy",seq[i][1]);
  setTimeout(()=>animate(coin,seq,i+1),300);
}
</script>

</body>
</html>
